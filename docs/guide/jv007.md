# Java Model 层 顾客数据模型代码详解（带注释）

## 代码整体结构说明

这段代码是顾客信息的数据模型类（Model），遵循 JavaBean 规范，用于封装顾客的所有属性信息。在 MVC 架构中，Model 层负责数据的存储和封装，是各层之间数据传递的载体。

```java
// 包声明：指定该模型类所属的包
package com.insurance.model;

// 导入日期类：用于处理出生日期、创建时间等日期类型属性
import java.util.Date;

/**
 * 顾客信息模型类（JavaBean）
 * 对应数据库中的customers表，封装顾客的所有属性信息
 * 遵循JavaBean规范：私有属性、无参构造方法、Getter/Setter方法
 */
public class Customer {
    // 成员变量（属性）：对应数据库表中的字段

    /** 数据库主键ID */
    private int id;

    /** 顾客编号（业务系统中的唯一标识） */
    private String customerCode;

    /** 名（顾客姓名） */
    private String firstName;

    /** 姓（顾客姓名） */
    private String lastName;

    /** 名（假名/拼音） */
    private String firstNameKana;

    /** 姓（假名/拼音） */
    private String lastNameKana;

    /** 性别（M：男，F：女） */
    private String gender;

    /** 出生日期 */
    private Date birthDate;

    /** 年龄 */
    private int age;

    /** 邮政编码 */
    private String postalCode;

    /** 都道府县 */
    private String prefecture;

    /** 市町村 */
    private String city;

    /** 地址1（主要地址） */
    private String addressLine1;

    /** 地址2（公寓/房间号等） */
    private String addressLine2;

    /** 电话号码 */
    private String phoneNumber;

    /** 电子邮箱 */
    private String email;

    /** 职业 */
    private String occupation;

    /** 年收入 */
    private double annualIncome;

    /** 家庭构成 */
    private String familyComposition;

    /** 创建时间（记录添加到数据库的时间） */
    private Date createdAt;

    /** 更新时间（记录最后修改时间） */
    private Date updatedAt;

    /** 删除标记（true：已删除，false：未删除）- 软删除机制 */
    private boolean deletedFlag;

    /**
     * 无参构造方法
     * JavaBean规范要求必须提供无参构造方法
     */
    public Customer() {}

    /**
     * 带参构造方法
     * 用于创建顾客对象时初始化核心属性
     * @param customerCode 顾客编号
     * @param firstName 名
     * @param lastName 姓
     * @param gender 性别
     * @param birthDate 出生日期
     */
    public Customer(String customerCode, String firstName, String lastName, String gender, Date birthDate) {
        this.customerCode = customerCode;
        this.firstName = firstName;
        this.lastName = lastName;
        this.gender = gender;
        this.birthDate = birthDate;
    }

    // Getter和Setter方法：用于访问和修改私有属性
    // 遵循命名规范：get+属性名（首字母大写），set+属性名（首字母大写）

    /**
     * 获取ID
     * @return 数据库主键ID
     */
    public int getId() {
        return id;
    }

    /**
     * 设置ID
     * @param id 数据库主键ID
     */
    public void setId(int id) {
        this.id = id;
    }

    public String getCustomerCode() {
        return customerCode;
    }

    public void setCustomerCode(String customerCode) {
        this.customerCode = customerCode;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getFirstNameKana() {
        return firstNameKana;
    }

    public void setFirstNameKana(String firstNameKana) {
        this.firstNameKana = firstNameKana;
    }

    public String getLastNameKana() {
        return lastNameKana;
    }

    public void setLastNameKana(String lastNameKana) {
        this.lastNameKana = lastNameKana;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public Date getBirthDate() {
        return birthDate;
    }

    public void setBirthDate(Date birthDate) {
        this.birthDate = birthDate;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getPostalCode() {
        return postalCode;
    }

    public void setPostalCode(String postalCode) {
        this.postalCode = postalCode;
    }

    public String getPrefecture() {
        return prefecture;
    }

    public void setPrefecture(String prefecture) {
        this.prefecture = prefecture;
    }

    public String getCity() {
        return city;
    }

    public void setCity(String city) {
        this.city = city;
    }

    public String getAddressLine1() {
        return addressLine1;
    }

    public void setAddressLine1(String addressLine1) {
        this.addressLine1 = addressLine1;
    }

    public String getAddressLine2() {
        return addressLine2;
    }

    public void setAddressLine2(String addressLine2) {
        this.addressLine2 = addressLine2;
    }

    public String getPhoneNumber() {
        return phoneNumber;
    }

    public void setPhoneNumber(String phoneNumber) {
        this.phoneNumber = phoneNumber;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getOccupation() {
        return occupation;
    }

    public void setOccupation(String occupation) {
        this.occupation = occupation;
    }

    public double getAnnualIncome() {
        return annualIncome;
    }

    public void setAnnualIncome(double annualIncome) {
        this.annualIncome = annualIncome;
    }

    public String getFamilyComposition() {
        return familyComposition;
    }

    public void setFamilyComposition(String familyComposition) {
        this.familyComposition = familyComposition;
    }

    public Date getCreatedAt() {
        return createdAt;
    }

    public void setCreatedAt(Date createdAt) {
        this.createdAt = createdAt;
    }

    public Date getUpdatedAt() {
        return updatedAt;
    }

    public void setUpdatedAt(Date updatedAt) {
        this.updatedAt = updatedAt;
    }

    /**
     * 布尔类型属性的Getter方法
     * 命名规范：is+属性名（首字母大写），而不是get+属性名
     * @return 删除标记（true：已删除，false：未删除）
     */
    public boolean isDeletedFlag() {
        return deletedFlag;
    }

    public void setDeletedFlag(boolean deletedFlag) {
        this.deletedFlag = deletedFlag;
    }

    /**
     * 重写toString方法
     * 用于对象的字符串表示，方便打印和调试
     * @return 包含主要属性的字符串
     */
    @Override
    public String toString() {
        return "Customer{" +
                "id=" + id +
                ", customerCode='" + customerCode + '\'' +
                ", firstName='" + firstName + '\'' +
                ", lastName='" + lastName + '\'' +
                ", gender='" + gender + '\'' +
                ", age=" + age +
                ", email='" + email + '\'' +
                ", phoneNumber='" + phoneNumber + '\'' +
                '}';
    }
}
```

## 核心知识点总结

### 1. 模型类（Model）的作用

- **数据封装**：将顾客的所有属性封装在一个对象中，便于数据传递和管理
- **数据载体**：在各层之间传递数据（如 DAO 层查询结果封装为 Customer 对象，传递给 Service 层）
- **映射关系**：与数据库表结构对应，每个属性对应表中的一个字段
- **业务实体**：代表业务领域中的一个实体（顾客），包含该实体的所有属性和行为

### 2. JavaBean 规范

- **私有属性**：所有成员变量使用`private`修饰，确保数据安全性
- **无参构造方法**：必须提供无参构造方法，便于框架反射创建对象
- **Getter/Setter 方法**：提供公共的访问器和修改器，用于操作私有属性
- **命名规范**：
  - Getter 方法：`get+属性名（首字母大写）`，如`getFirstName()`
  - Setter 方法：`set+属性名（首字母大写）`，如`setFirstName()`
  - 布尔类型属性：Getter 方法使用`is+属性名`，如`isDeletedFlag()`

### 3. 构造方法

- **无参构造方法**：JavaBean 规范要求，用于创建空对象
- **带参构造方法**：用于创建对象时初始化部分或全部属性，提高代码简洁性
- **构造方法重载**：可以根据需要提供多个不同参数的构造方法

### 4. 属性类型选择

- **基本类型**：如`int age`（年龄）、`double annualIncome`（年收入）
- **引用类型**：如`String firstName`（姓名）、`Date birthDate`（出生日期）
- **布尔类型**：`boolean deletedFlag`（删除标记），注意 Getter 方法命名为`isDeletedFlag()`

### 5. toString 方法重写

- **作用**：提供对象的字符串表示，方便打印日志和调试
- **实现**：通常包含主要属性的值，避免包含过多信息
- **注解**：使用`@Override`注解标识重写父类（Object）的方法

### 6. 模型层在 MVC 架构中的位置

- **MVC 中的 M**：Model 层，负责数据的存储和业务逻辑
- **数据流转**：
  - DAO 层：从数据库查询数据，封装为 Model 对象
  - Service 层：接收 DAO 层传递的 Model 对象，进行业务逻辑处理
  - Controller 层：接收 Service 层传递的 Model 对象，传递给 View 层显示
- **职责分离**：Model 层只负责数据存储，不包含业务逻辑（业务逻辑在 Service 层）

### 7. 软删除机制

- **实现**：通过`deletedFlag`属性标记记录是否删除
- **优势**：保留历史数据，便于恢复，不破坏数据关联
- **使用**：查询时过滤`deletedFlag=false`的记录，删除时仅将`deletedFlag`设为 true

### 8. 日期类型处理

- **使用`java.util.Date`**：存储日期和时间信息
- **数据库交互**：DAO 层需要将`java.util.Date`转换为`java.sql.Date`或`java.sql.Timestamp`
- **时区问题**：注意应用程序和数据库的时区一致性，避免时间偏差
